{% extends 'base.html.twig' %}

{% block title %}Hopital | Utilisateurs{% endblock %}

{% block base_content %}

      
  <div class="card h-100" id="table" data-list='{"valueNames":["name","roles"],"page":10,"pagination":true,"fallback":"pages-table-fallback"}'>
    <div class="card-header">
      <div class="row flex-between-center">
        <div class="col-auto col-sm-6 col-lg-7">
          <h6 class="mb-0 text-nowrap py-2 py-xl-0 fs-2">Utilisateurs <span class="fas fa-plus fs--1 text-600"></span></h6>
        </div>
        <div class="col-auto col-sm-6 col-lg-5">
          <div class="h-100">
            <form>
              <div class="input-group"><input class="form-control form-control-sm shadow-none search" type="search" placeholder="Search for a page" aria-label="search" />
                <div class="input-group-text bg-transparent">
                  <span class="fa fa-search fs--1 text-600"></span>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    <div class="card-body px-0 py-0">
      <div class="table-responsive scrollbar">
        
      <table class="table table-bordered table-striped fs--1 mb-0">
        <thead class="bg-200 text-900">
          <tr>
            <th class="sort" data-sort="name">Nom</th>
            <th class="sort" data-sort="roles">Roles</th>
            <th class="action" data-sort="age">Actions</th>
          </tr>
        </thead>
        <tbody class="list">

         {% for user in users %}
          <tr>
            <td class="name">{{ user.username }}</td>
            
            <td class="roles">
              {% for userRole in user.tUserRoles|filter(v => v.state is same as(true) and v.fkRole.state is same as(true)) %}
                
                <span class="badge badge-soft-warning">{{ userRole.fkRole.libelle }}</span>

              {% endfor %}
              
              </td>   
            <td class="align-middle white-space-nowrap text-end position-relative">
              <div class="dropdown font-sans-serif btn-reveal-trigger">
                <button class="btn btn-link text-600 btn-sm dropdown-toggle dropdown-caret-none btn-reveal-sm transition-none" type="button" id="crm-recent-leads-0" data-bs-toggle="dropdown" data-boundary="viewport" aria-haspopup="true" aria-expanded="false">
                  <span class="fas fa-ellipsis-h fs--2"></span>
                </button>
                <div class="dropdown-menu dropdown-menu-end border py-2" aria-labelledby="crm-recent-leads-0">
                  <a class="dropdown-item" href="#!">View</a>
                  <a class="dropdown-item" href="#!">Export</a>
                  <div class="dropdown-divider"></div><a class="dropdown-item text-danger" href="#!">Remove</a>
                </div>
              </div>

            </td>
          </tr>

         {% endfor %}
          
        </tbody>
      </table>

      </div>
      <div class="text-center d-none" id="pages-table-fallback">
        <p class="fw-bold fs-1 mt-3">Aucun utilisateur correspond Ã  votre recherche</p>
      </div>
    </div>
    <div class="card-footer">
      <div class="row align-items-center">
        <div class="pagination d-none"></div>
        <div class="col">
          <p class="mb-0 fs--1"><span class="d-none d-sm-inline-block me-2" data-list-info="data-list-info"></span></p>
        </div>
        <div class="col-auto d-flex"><button class="btn btn-sm btn-primary" type="button" data-list-pagination="prev"><span>Previous</span></button><button class="btn btn-sm btn-primary px-4 ms-2" type="button" data-list-pagination="next"><span>Next</span></button></div>
      </div>
    </div>
  </div>


{% endblock %}
{% block addjs %}

{% endblock %}